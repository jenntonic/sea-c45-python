<!--
Google IO 2012/2013 HTML5 Slide Template

Authors: Eric Bidelman <ebidel@gmail.com>
         Luke Mahé <lukem@google.com>

URL: https://code.google.com/p/io-2012-slides
--><!DOCTYPE html>


<html>
<head>
  <title>Session Five: Exceptions, Files, Arguments, Comprehensions &mdash; Foundations 2: Python</title>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <!--<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">-->
  <!--<meta name="viewport" content="width=device-width, initial-scale=1.0">-->
  <!--This one seems to work all the time, but really small on ipad-->
  <!--<meta name="viewport" content="initial-scale=0.4">-->
  <meta name="apple-mobile-web-app-capable" content="yes">

  <meta name="hieroglyph-title" data-config-title>
  <meta name="hieroglyph-subtitle" data-config-subtitle>
  <meta name="hieroglyph-presenter" data-config-presenter>

  
  <link rel="stylesheet" media="all"
        href="_static/theme/css/default.css">
  <link rel="stylesheet" media="all"
        href="_static/theme/css/hieroglyph.css">
  <link rel="stylesheet" media="only screen and (max-device-width: 480px)"
        href="_static/theme/css/phone.css">

    
    <link rel="stylesheet" href="_static/custom.css"
          type="text/css" />
    

    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <base target="_blank"> <!-- This amazingness opens all links in a new tab. -->
  
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>

    <script data-main="_static/js/slides"
            src="_static/js/require-1.0.8.min.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    
    <link rel="top" title="Foundations 2: Python" href="index.html" />
    <link rel="next" title="Session Six: Intro to Object Oriented Programming" href="session06.html" />
    <link rel="prev" title="Session Four: More Iteration, Strings, Dictionaries" href="session04.html" /> 
</head>
<body style="opacity: 0">

<slides class="layout-widescreen">

  <slide class="title-slide segue nobackground">
  <aside class="gdbar"><img src="https://dgosxlrnzhofi.cloudfront.net/assets/logo-3fc81b216ed94ef783583de4160a97ef.svg"></aside>
  <!-- The content of this hgroup is replaced programmatically through the slide_config.json. -->
  <hgroup class="auto-fadein">
    <h1 data-config-title><!-- populated from slide_config.json --></h1>
    <h2 data-config-subtitle><!-- populated from slide_config.json --></h2>
    <p data-config-presenter><!-- populated from slide_config.json --></p>
  </hgroup>
</slide>

  
    <slide class="title-slide segue nobackground level-1" id="session-five-exceptions-files-arguments-comprehensions">
    <hgroup>
      <h1>Session Five: Exceptions, Files, Arguments, Comprehensions</h1>
    </hgroup>
    <article class="">
      



    </article>
  </slide>  <slide class="level-2" id="review-questions">
    <hgroup>
      <h2>Review/Questions</h2>
    </hgroup>
    <article class="">
      <div class="left container">
<ul class="build simple">
<li>Dictionaries</li>
<li>Exceptions</li>
<li>Files, etc.</li>
</ul>
</div>




    </article>
  </slide>  <slide class="level-3" id="homework-review">
    <hgroup>
      <h3>Homework Review</h3>
    </hgroup>
    <article class="">
      <p>Homework Questions?</p>
<p>Solutions to the dict/set lab, and some others in the class repo in:
<tt class="docutils literal"><span class="pre">Solutions</span></tt></p>
<p>A few tidbits:</p>




    </article>
  </slide>  <slide class="level-3" id="id4">
    <hgroup>
      <h3>Sorting Dictionaries:</h3>
    </hgroup>
    <article class="">
      <p>The <tt class="docutils literal"><span class="pre">dict</span></tt> isn't sorted, so what if you want to do something in a sorted way?</p>
<div class="build container">
<p>The &quot;old&quot; way:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">keys</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="n">keys</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
<span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">:</span>
    <span class="o">...</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="n">collections</span><span class="o">.</span><span class="n">OrderedDict</span>
<span class="nb">sorted</span><span class="p">()</span>
</pre></div>
</div>
<p>(demo)</p>
</div>




    </article>
  </slide>  <slide class="level-2" id="exceptions">
    <hgroup>
      <h2>Exceptions</h2>
    </hgroup>
    <article class="">
      <div class="left container">
<p>Another Branching structure:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">try</span><span class="p">:</span>
    <span class="n">do_something</span><span class="p">()</span>
    <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">&#39;missing.txt&#39;</span><span class="p">)</span>
    <span class="n">process</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>   <span class="c"># never called if file missing</span>
<span class="k">except</span> <span class="ne">IOError</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&quot;couldn&#39;t open missing.txt&quot;</span>
</pre></div>
</div>
</div>




    </article>
  </slide>  <slide class="level-3" id="id1">
    <hgroup>
      <h3>Exceptions</h3>
    </hgroup>
    <article class="">
      <p>Never Do this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">try</span><span class="p">:</span>
    <span class="n">do_something</span><span class="p">()</span>
    <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">&#39;missing.txt&#39;</span><span class="p">)</span>
    <span class="n">process</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>   <span class="c"># never called if file missing</span>
<span class="k">except</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">&quot;couldn&#39;t open missing.txt&quot;</span>
</pre></div>
</div>




    </article>
  </slide>  <slide class="level-3" id="id2">
    <hgroup>
      <h3>Exceptions</h3>
    </hgroup>
    <article class="">
      <p>Use Exceptions, rather than your own tests:</p>
<p>Don't do this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">do_something</span><span class="p">()</span>
<span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="s">&#39;missing.txt&#39;</span><span class="p">):</span>
    <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">&#39;missing.txt&#39;</span><span class="p">)</span>
    <span class="n">process</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>   <span class="c"># never called if file missing</span>
</pre></div>
</div>
<p>It will almost always work -- but the almost will drive you crazy</p>




    </article>
  </slide>  <slide class="level-3" id="id5">
    <hgroup>
      <h3>Exceptions</h3>
    </hgroup>
    <article class="">
      <p>Example from homework</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="n">num_in</span><span class="o">.</span><span class="n">isdigit</span><span class="p">():</span>
    <span class="n">num_in</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">num_in</span><span class="p">)</span>
</pre></div>
</div>
<p>but -- <tt class="docutils literal"><span class="pre">int(num_in)</span></tt> will only work if the string can be converted to an integer.</p>
<p>So you can do</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">try</span><span class="p">:</span>
    <span class="n">num_in</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">num_in</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s">u&quot;Input must be an integer, try again.&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Or let the Exception be raised....</p>




    </article>
  </slide>  <slide class="level-3" id="id6">
    <hgroup>
      <h3>EAFP</h3>
    </hgroup>
    <article class="">
      <div class="highlight-python"><div class="highlight"><pre>&quot;it&#39;s Easier to Ask Forgiveness than Permission&quot;

-- Grace Hopper
</pre></div>
</div>
<p><a class="reference external" href="http://www.youtube.com/watch?v=AZDWveIdqjY">http://www.youtube.com/watch?v=AZDWveIdqjY</a></p>
<p>(Pycon talk by Alex Martelli)</p>




    </article>
  </slide>  <slide class="level-3" id="id7">
    <hgroup>
      <h3>Do you catch all Exceptions?</h3>
    </hgroup>
    <article class="">
      <p>For simple scripts, let exceptions happen.</p>
<p>Only handle the exception if the code can and will do something about it.</p>
<p>(much better debugging info when an error does occur)</p>




    </article>
  </slide>  <slide class="level-3" id="exceptions-finally">
    <hgroup>
      <h3>Exceptions -- finally</h3>
    </hgroup>
    <article class="">
      <div class="highlight-python"><div class="highlight"><pre><span class="k">try</span><span class="p">:</span>
    <span class="n">do_something</span><span class="p">()</span>
    <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">&#39;missing.txt&#39;</span><span class="p">)</span>
    <span class="n">process</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>   <span class="c"># never called if file missing</span>
<span class="k">except</span> <span class="ne">IOError</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s">u&quot;couldn&#39;t open missing.txt&quot;</span><span class="p">)</span>
<span class="k">finally</span><span class="p">:</span>
    <span class="n">do_some_clean</span><span class="o">-</span><span class="n">up</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">finally:</span></tt>  clause will always run</p>




    </article>
  </slide>  <slide class="level-3" id="exceptions-else">
    <hgroup>
      <h3>Exceptions -- else</h3>
    </hgroup>
    <article class="">
      <div class="highlight-python"><div class="highlight"><pre><span class="k">try</span><span class="p">:</span>
    <span class="n">do_something</span><span class="p">()</span>
    <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">&#39;missing.txt&#39;</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">IOError</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s">u&quot;couldn&#39;t open missing.txt&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">process</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="c"># only called if there was no exception</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Advantage:</dt>
<dd>you know where the Exception came from</dd>
</dl>




    </article>
  </slide>  <slide class="level-3" id="exceptions-using-them">
    <hgroup>
      <h3>Exceptions -- using them</h3>
    </hgroup>
    <article class="">
      <div class="highlight-python"><div class="highlight"><pre><span class="k">try</span><span class="p">:</span>
    <span class="n">do_something</span><span class="p">()</span>
    <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">&#39;missing.txt&#39;</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">IOError</span> <span class="k">as</span> <span class="n">the_error</span><span class="p">:</span>
    <span class="k">print</span> <span class="n">the_error</span>
    <span class="n">the_error</span><span class="o">.</span><span class="n">extra_info</span> <span class="o">=</span> <span class="s">&quot;some more information&quot;</span>
    <span class="k">raise</span>
</pre></div>
</div>
<div class="build container">
<p>Particularly useful if you catch more than one exception:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">except</span> <span class="p">(</span><span class="ne">IOError</span><span class="p">,</span> <span class="n">BufferError</span><span class="p">,</span> <span class="ne">OSError</span><span class="p">)</span> <span class="k">as</span> <span class="n">the_error</span><span class="p">:</span>
    <span class="n">do_something_with</span> <span class="p">(</span><span class="n">the_error</span><span class="p">)</span>
</pre></div>
</div>
</div>




    </article>
  </slide>  <slide class="level-3" id="raising-exceptions">
    <hgroup>
      <h3>Raising Exceptions</h3>
    </hgroup>
    <article class="">
      <div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">divide</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">b</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ZeroDivisionError</span><span class="p">(</span><span class="s">&quot;b can not be zero&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">a</span> <span class="o">/</span> <span class="n">b</span>
</pre></div>
</div>
<div class="build container">
<p>when you call it:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [515]: </span><span class="n">divide</span> <span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="go">ZeroDivisionError: b can not be zero</span>
</pre></div>
</div>
</div>




    </article>
  </slide>  <slide class="level-3" id="built-in-exceptions">
    <hgroup>
      <h3>Built in Exceptions</h3>
    </hgroup>
    <article class="">
      <p>You can create your own custom exceptions, but...</p>
<div class="build container">
<div class="highlight-python"><div class="highlight"><pre><span class="n">exp</span> <span class="o">=</span> <span class="p">[</span><span class="n">name</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="n">__builtin__</span><span class="p">)</span> <span class="k">if</span> <span class="s">&quot;Error&quot;</span> <span class="ow">in</span> <span class="n">name</span><span class="p">]</span>
<span class="nb">len</span><span class="p">(</span><span class="n">exp</span><span class="p">)</span>
<span class="mi">32</span>
</pre></div>
</div>
<p>For the most part, you can/should use a built in one</p>
</div>




    </article>
  </slide>  <slide class="level-3" id="id8">
    <hgroup>
      <h3>Built in Exceptions</h3>
    </hgroup>
    <article class="">
      <p>Choose the best match you can for the built in Exception you raise.</p>
<div class="build container">
<p>Example (for last week's ackerman homework):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="nb">int</span><span class="p">))</span> <span class="ow">or</span> <span class="p">(</span><span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="nb">int</span><span class="p">)):</span>
    <span class="k">raise</span> <span class="ne">ValueError</span>
</pre></div>
</div>
<p>Is the <em>value</em> of the input the problem here?</p>
<p>Nope: the <em>type</em> is the problem:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="p">(</span><span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="nb">int</span><span class="p">))</span> <span class="ow">or</span> <span class="p">(</span><span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="nb">int</span><span class="p">)):</span>
    <span class="k">raise</span> <span class="ne">TypeError</span>
</pre></div>
</div>
<p>but should you be checking type anyway? (EAFP)</p>
</div>




    </article>
  </slide>  <slide class="level-2" id="file-reading-and-writing">
    <hgroup>
      <h2>File Reading and Writing</h2>
    </hgroup>
    <article class="">
      



    </article>
  </slide>  <slide class="level-3" id="files">
    <hgroup>
      <h3>Files</h3>
    </hgroup>
    <article class="">
      <p>Text Files</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">io</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s">&#39;secrets.txt&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">&#39;utf-8&#39;</span><span class="p">)</span>
<span class="n">secret_data</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">secret_data</span></tt> is a (unicode) string</p>
<p><tt class="docutils literal"><span class="pre">encoding</span></tt> defaults to <tt class="docutils literal"><span class="pre">sys.getdefaultencoding()</span></tt> -- often NOT what you
want.</p>
<p>(There is also the regular <tt class="docutils literal"><span class="pre">open()</span></tt> built in, but it won't handle Unicode for
you...)</p>




    </article>
  </slide>  <slide class="level-3" id="id9">
    <hgroup>
      <h3>Files</h3>
    </hgroup>
    <article class="">
      <p>Binary Files</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">f</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s">&#39;secrets.bin&#39;</span><span class="p">,</span> <span class="s">&#39;rb&#39;</span><span class="p">)</span>
<span class="n">secret_data</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">secret_data</span></tt>  is a byte string</p>
<p>(with arbitrary bytes in it -- well, not arbitrary -- whatever is in the file.)</p>
<p>(See the <tt class="docutils literal"><span class="pre">struct</span></tt>  module to unpack formatted binary data)</p>




    </article>
  </slide>  <slide class="level-3" id="id10">
    <hgroup>
      <h3>Files</h3>
    </hgroup>
    <article class="">
      <p>File Opening Modes</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">f</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s">&#39;secrets.txt&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">mode</span><span class="p">])</span>
<span class="s">&#39;r&#39;</span><span class="p">,</span> <span class="s">&#39;w&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span>
<span class="s">&#39;rb&#39;</span><span class="p">,</span> <span class="s">&#39;wb&#39;</span><span class="p">,</span> <span class="s">&#39;ab&#39;</span>
<span class="n">r</span><span class="o">+</span><span class="p">,</span> <span class="n">w</span><span class="o">+</span><span class="p">,</span> <span class="n">a</span><span class="o">+</span>
<span class="n">r</span><span class="o">+</span><span class="n">b</span><span class="p">,</span> <span class="n">w</span><span class="o">+</span><span class="n">b</span><span class="p">,</span> <span class="n">a</span><span class="o">+</span><span class="n">b</span>
<span class="n">U</span>
<span class="n">U</span><span class="o">+</span>
</pre></div>
</div>
<p>These follow the Unix conventions, and aren't all that well documented on the
Python docs. But these BSD docs make it pretty clear:</p>
<p><a class="reference external" href="http://www.manpagez.com/man/3/fopen/">http://www.manpagez.com/man/3/fopen/</a></p>
<p><strong>Gotcha</strong> -- 'w' modes always clear the file</p>




    </article>
  </slide>  <slide class="level-3" id="id11">
    <hgroup>
      <h3>Text File Notes</h3>
    </hgroup>
    <article class="">
      <p>Text is default</p>
<ul class="simple">
<li>Newlines are translated: <tt class="docutils literal"><span class="pre">\r\n</span> <span class="pre">-&gt;</span> <span class="pre">\n</span></tt></li>
<li>-- reading and writing!</li>
<li>Use *nix-style in your code: <tt class="docutils literal"><span class="pre">\n</span></tt></li>
<li><tt class="docutils literal"><span class="pre">io.open()</span></tt> returns various &quot;stream&quot; objects -- but they act like file
objects.</li>
<li>In text mode, io.open() defaults to &quot;Universal&quot; newline mode.</li>
</ul>
<p>Gotcha:</p>
<ul class="simple">
<li>no difference between text and binary on *nix</li>
<li>breaks on Windows</li>
</ul>




    </article>
  </slide>  <slide class="level-3" id="id12">
    <hgroup>
      <h3>Other parameters to <tt class="docutils literal"><span class="pre">io.open()</span></tt>:</h3>
    </hgroup>
    <article class="">
      <p><tt class="docutils literal"><span class="pre">io.open(file,</span> <span class="pre">mode='r',</span> <span class="pre">buffering=-1,</span> <span class="pre">encoding=None,</span> <span class="pre">errors=None,</span> <span class="pre">newline=None,</span> <span class="pre">closefd=True)</span></tt></p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">file</span></tt> is generally a file name or full path</li>
<li><tt class="docutils literal"><span class="pre">mode</span></tt> is the mode for opening: 'r', 'w', etc.</li>
<li><tt class="docutils literal"><span class="pre">buffering</span></tt> controls the buffering mode (0 for no buffering)</li>
<li><tt class="docutils literal"><span class="pre">encoding</span></tt> sets the unicode encoding -- only for text files -- when set,
you can ONLY write unicode object to the file.</li>
<li><tt class="docutils literal"><span class="pre">errors</span></tt> sets the encoding error mode: 'strict', 'ignore', 'replace',...</li>
<li><tt class="docutils literal"><span class="pre">newline</span></tt> controls Universal Newline mode: lets you write DOS-type files on
*nix, for instance (text mode only).</li>
<li><tt class="docutils literal"><span class="pre">closedfd</span></tt> controls close()  behavior if a file descriptor, rather than a
name is passed in (advanced usage!)</li>
</ul>
<p>(<a class="reference external" href="https://docs.python.org/2/library/io.html?highlight=io.open#io.open">https://docs.python.org/2/library/io.html?highlight=io.open#io.open</a>)</p>




    </article>
  </slide>  <slide class="level-3" id="file-reading">
    <hgroup>
      <h3>File Reading</h3>
    </hgroup>
    <article class="">
      <p>Reading part of a file</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">header_size</span> <span class="o">=</span> <span class="mi">4096</span>
<span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">&#39;secrets.txt&#39;</span><span class="p">)</span>
<span class="n">secret_header</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">header_size</span><span class="p">)</span>
<span class="n">secret_rest</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>




    </article>
  </slide>  <slide class="level-3" id="id13">
    <hgroup>
      <h3>File Reading</h3>
    </hgroup>
    <article class="">
      <p>Common Idioms</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">io</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s">&#39;secrets.txt&#39;</span><span class="p">):</span>
    <span class="k">print</span> <span class="n">line</span>
</pre></div>
</div>
<div class="build container">
<p>(the file object is an iterator!)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">f</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s">&#39;secrets.txt&#39;</span><span class="p">)</span>
<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">line</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">line</span><span class="p">:</span>
        <span class="k">break</span>
    <span class="n">do_something_with_line</span><span class="p">()</span>
</pre></div>
</div>
</div>




    </article>
  </slide>  <slide class="level-3" id="file-writing">
    <hgroup>
      <h3>File Writing</h3>
    </hgroup>
    <article class="">
      <div class="highlight-python"><div class="highlight"><pre><span class="n">outfile</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s">&#39;output.txt&#39;</span><span class="p">,</span> <span class="s">&#39;w&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="n">outfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&quot;this is line: </span><span class="si">%i</span><span class="se">\n</span><span class="s">&quot;</span><span class="o">%</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>




    </article>
  </slide>  <slide class="level-3" id="file-methods">
    <hgroup>
      <h3>File Methods</h3>
    </hgroup>
    <article class="">
      <p>Commonly Used Methods</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span> <span class="n">f</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>

<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span> <span class="n">f</span><span class="o">.</span><span class="n">writelines</span><span class="p">(</span><span class="n">seq</span><span class="p">)</span>

<span class="n">f</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="n">offset</span><span class="p">)</span> <span class="n">f</span><span class="o">.</span><span class="n">tell</span><span class="p">()</span>

<span class="n">f</span><span class="o">.</span><span class="n">flush</span><span class="p">()</span>

<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>




    </article>
  </slide>  <slide class="level-3" id="file-like-objects">
    <hgroup>
      <h3>File Like Objects</h3>
    </hgroup>
    <article class="">
      <p>Many classes implement the file interface:</p>
<ul class="build simple">
<li>loggers</li>
<li><tt class="docutils literal"><span class="pre">sys.stdout</span></tt></li>
<li><tt class="docutils literal"><span class="pre">urllib.open()</span></tt></li>
<li>pipes, subprocesses</li>
<li>StringIO</li>
</ul>
<p><a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#file-objects">https://docs.python.org/2/library/stdtypes.html#file-objects</a></p>




    </article>
  </slide>  <slide class="level-3" id="stringio">
    <hgroup>
      <h3>StringIO</h3>
    </hgroup>
    <article class="">
      <div class="highlight-python"><div class="highlight"><pre><span class="n">In</span> <span class="p">[</span><span class="mi">417</span><span class="p">]:</span> <span class="kn">import</span> <span class="nn">StringIO</span>
<span class="n">In</span> <span class="p">[</span><span class="mi">420</span><span class="p">]:</span> <span class="n">f</span> <span class="o">=</span> <span class="n">StringIO</span><span class="o">.</span><span class="n">StringIO</span><span class="p">()</span>
<span class="n">In</span> <span class="p">[</span><span class="mi">421</span><span class="p">]:</span> <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">u&quot;somestuff&quot;</span><span class="p">)</span>
<span class="n">In</span> <span class="p">[</span><span class="mi">422</span><span class="p">]:</span> <span class="n">f</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">In</span> <span class="p">[</span><span class="mi">423</span><span class="p">]:</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">423</span><span class="p">]:</span> <span class="s">&#39;somestuff&#39;</span>
</pre></div>
</div>
<p>(handy for testing file handling code...)</p>




    </article>
  </slide>  <slide class="level-2" id="paths-and-directories">
    <hgroup>
      <h2>Paths and Directories</h2>
    </hgroup>
    <article class="">
      



    </article>
  </slide>  <slide class="level-3" id="paths">
    <hgroup>
      <h3>Paths</h3>
    </hgroup>
    <article class="">
      <p>Paths are generally handled with simple strings (or Unicode strings)</p>
<p>Relative paths:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="s">u&#39;secret.txt&#39;</span>
<span class="s">u&#39;./secret.txt&#39;</span>
</pre></div>
</div>
<p>Absolute paths:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="s">u&#39;/home/chris/secret.txt&#39;</span>
</pre></div>
</div>
<p>Either work with <tt class="docutils literal"><span class="pre">open()</span></tt> , etc.</p>
<p>(working directory only makes sense with command-line programs...)</p>




    </article>
  </slide>  <slide class="level-3" id="os-module">
    <hgroup>
      <h3>os module</h3>
    </hgroup>
    <article class="">
      <div class="highlight-python"><div class="highlight"><pre>os.getcwd() -- os.getcwdu() (u for Unicode)
chdir(path)
os.path.abspath()
os.path.relpath()￼
</pre></div>
</div>




    </article>
  </slide>  <slide class="level-3" id="id14">
    <hgroup>
      <h3>os.path module</h3>
    </hgroup>
    <article class="">
      <div class="highlight-python"><div class="highlight"><pre><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
<span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">()</span>
<span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">()</span>
<span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">()</span>
<span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
</pre></div>
</div>
<p>(all platform independent)</p>




    </article>
  </slide>  <slide class="level-3" id="id15">
    <hgroup>
      <h3>directories</h3>
    </hgroup>
    <article class="">
      <div class="highlight-python"><div class="highlight"><pre><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">()</span>
<span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">()</span>
<span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">()</span>
</pre></div>
</div>
<p>(higher level stuff in <tt class="docutils literal"><span class="pre">shutil</span></tt>  module)</p>




    </article>
  </slide>  <slide class="level-3" id="pathlib">
    <hgroup>
      <h3>pathlib</h3>
    </hgroup>
    <article class="">
      <p><tt class="docutils literal"><span class="pre">pathlib</span></tt> is a new package for handling paths in an OO way:</p>
<p><a class="reference external" href="http://pathlib.readthedocs.org/en/pep428/">http://pathlib.readthedocs.org/en/pep428/</a></p>
<p>It is now part of the Python3 standard library, and has been back-ported for use with Python2:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>pip install pathlib
</pre></div>
</div>




    </article>
  </slide>  <slide class="level-3" id="id16">
    <hgroup>
      <h3>pathlib</h3>
    </hgroup>
    <article class="">
      <p>All the stuff in os.path and more:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [64]: </span><span class="kn">import</span> <span class="nn">pathlib</span>
<span class="gp">In [65]: </span><span class="n">pth</span> <span class="o">=</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="s">&#39;./&#39;</span><span class="p">)</span>
<span class="gp">In [66]: </span><span class="n">pth</span><span class="o">.</span><span class="n">is_dir</span><span class="p">()</span>
<span class="gh">Out[66]: </span><span class="go">True</span>
<span class="gp">In [67]: </span><span class="n">pth</span><span class="o">.</span><span class="n">absolute</span><span class="p">()</span>
<span class="gh">Out[67]: </span><span class="go">PosixPath(&#39;/Users/Chris/PythonStuff/CodeFellowsClass/sea-f2-python-sept14/Examples/Session04&#39;)</span>
<span class="gp">In [68]: </span><span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">pth</span><span class="o">.</span><span class="n">iterdir</span><span class="p">():</span>
<span class="go">             print f</span>
<span class="go">junk2.txt</span>
<span class="go">junkfile.txt</span>
<span class="go">...</span>
</pre></div>
</div>




    </article>
  </slide>  <slide class="level-2" id="advanced-argument-passing">
    <hgroup>
      <h2>Advanced Argument Passing</h2>
    </hgroup>
    <article class="">
      



    </article>
  </slide>  <slide class="level-3" id="keyword-arguments">
    <hgroup>
      <h3>Keyword arguments</h3>
    </hgroup>
    <article class="">
      <p>When defining a function, you can specify only what you need -- in any order</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [150]: </span><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">print_function</span>
<span class="gp">In [151]: </span><span class="k">def</span> <span class="nf">fun</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
<span class="gp">   .....: </span>    <span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s">&quot; &quot;</span><span class="p">)</span>
<span class="gp">   .....:</span>
<span class="gp">In [152]: </span><span class="n">fun</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">1 2 3</span>
<span class="gp">In [153]: </span><span class="n">fun</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="go">1 0 3</span>
<span class="gp">In [154]: </span><span class="n">fun</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">1 2 3</span>
</pre></div>
</div>




    </article>
  </slide>  <slide class="level-3" id="id17">
    <hgroup>
      <h3>Keyword arguments</h3>
    </hgroup>
    <article class="">
      <p>A Common Idiom:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">fun</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">y</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">do_something_different</span>
    <span class="n">go_on_here</span>
</pre></div>
</div>




    </article>
  </slide>  <slide class="level-3" id="id18">
    <hgroup>
      <h3>Keyword arguments</h3>
    </hgroup>
    <article class="">
      <p>Can set defaults to variables</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [156]: </span><span class="n">y</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">In [157]: </span><span class="k">def</span> <span class="nf">fun</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">y</span><span class="p">):</span>
<span class="go">    print(u&quot;x is: %s&quot; % x)</span>
<span class="gp">   .....:</span>
<span class="gp">In [158]: </span><span class="n">fun</span><span class="p">()</span>
<span class="go">x is: 4</span>
</pre></div>
</div>




    </article>
  </slide>  <slide class="level-3" id="id19">
    <hgroup>
      <h3>But Remember</h3>
    </hgroup>
    <article class="">
      <p>Defaults are evaluated when the function is defined</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [156]: </span><span class="n">y</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">In [157]: </span><span class="k">def</span> <span class="nf">fun</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">y</span><span class="p">):</span>
<span class="go">    print(u&quot;x is: %s&quot; % x)</span>
<span class="gp">   .....:</span>
<span class="gp">In [158]: </span><span class="n">fun</span><span class="p">()</span>
<span class="go">x is: 4</span>
<span class="gp">In [159]: </span><span class="n">y</span> <span class="o">=</span> <span class="mi">6</span>
<span class="gp">In [160]: </span><span class="n">fun</span><span class="p">()</span>
<span class="go">x is: 4</span>
</pre></div>
</div>




    </article>
  </slide>  <slide class="level-3" id="function-arguments-in-variables">
    <hgroup>
      <h3>Function arguments in variables</h3>
    </hgroup>
    <article class="">
      <p>function arguments are really just:</p>
<div class="build container">
<ul class="simple">
<li>a tuple (positional arguments)</li>
<li>a dict (keyword arguments)</li>
</ul>
<div class="highlight-python"><div class="highlight"><pre><span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">w</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">h</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
   <span class="o">...</span><span class="p">:</span>     <span class="n">msg</span> <span class="o">=</span> <span class="s">u&quot;position: </span><span class="si">%s</span><span class="s">, </span><span class="si">%s</span><span class="s"> -- shape: </span><span class="si">%s</span><span class="s">, </span><span class="si">%s</span><span class="s">&quot;</span>
   <span class="o">...</span><span class="p">:</span>     <span class="k">print</span><span class="p">(</span><span class="n">msg</span> <span class="o">%</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">))</span>
   <span class="o">...</span><span class="p">:</span>
<span class="n">In</span> <span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="n">position</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">In</span> <span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="n">size</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;h&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s">&#39;w&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">}</span>
<span class="n">In</span> <span class="p">[</span><span class="mi">4</span><span class="p">]:</span> <span class="n">f</span><span class="p">(</span><span class="o">*</span><span class="n">position</span><span class="p">,</span> <span class="o">**</span><span class="n">size</span><span class="p">)</span>
<span class="n">position</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span> <span class="o">--</span> <span class="n">shape</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">10</span>
</pre></div>
</div>
</div>




    </article>
  </slide>  <slide class="level-3" id="function-parameters-in-variables">
    <hgroup>
      <h3>Function parameters in variables</h3>
    </hgroup>
    <article class="">
      <p>You can also pull the parameters out in the function as a tuple and a dict:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [10]: </span><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="gp">   ....: </span>    <span class="k">print</span><span class="p">(</span><span class="s">u&quot;the positional arguments are: </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">unicode</span><span class="p">(</span><span class="n">args</span><span class="p">))</span>
<span class="gp">   ....: </span>    <span class="k">print</span><span class="p">(</span><span class="s">u&quot;the optional arguments are: </span><span class="si">%s</span><span class="s">&quot;</span> <span class="o">%</span> <span class="nb">unicode</span><span class="p">(</span><span class="n">kwargs</span><span class="p">))</span>
<span class="gp">   ....:</span>
<span class="gp">In [11]: </span><span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">this</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">that</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>
<span class="go">the positional arguments are: (2, 3)</span>
<span class="go">the optional arguments are: {&#39;this&#39;: 5, &#39;that&#39;: 7}</span>
</pre></div>
</div>




    </article>
  </slide>  <slide class="level-3" id="passing-a-dict-to-the-string-format-method">
    <hgroup>
      <h3>Passing a dict to the <tt class="docutils literal"><span class="pre">string.format()</span></tt> method</h3>
    </hgroup>
    <article class="">
      <p>Now that you know that keyword args are really a dict, you can do this nifty
trick:</p>
<div class="build container">
<div class="container">
<p>The <tt class="docutils literal"><span class="pre">format</span></tt> method takes keyword arguments:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [24]: </span><span class="s">u&quot;My name is {first} {last}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">last</span><span class="o">=</span><span class="s">u&quot;Ewing&quot;</span><span class="p">,</span> <span class="n">first</span><span class="o">=</span><span class="s">u&quot;Cris&quot;</span><span class="p">)</span>
<span class="gh">Out[24]: </span><span class="go">u&#39;My name is Cris Ewing&#39;</span>
</pre></div>
</div>
</div>
<div class="container">
<p>Build a dict of the keys and values:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [25]: </span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s">u&quot;last&quot;</span><span class="p">:</span> <span class="s">u&quot;Ewing&quot;</span><span class="p">,</span> <span class="s">u&quot;first&quot;</span><span class="p">:</span> <span class="s">u&quot;Cris&quot;</span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="container">
<p>And pass to <tt class="docutils literal"><span class="pre">format()``with</span> <span class="pre">``**</span></tt></p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [26]: </span><span class="s">u&quot;My name is {first} {last}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">d</span><span class="p">)</span>
<span class="gh">Out[26]: </span><span class="go">u&#39;My name is Cris Ewing&#39;</span>
</pre></div>
</div>
</div>
</div>




    </article>
  </slide>  <slide class="level-3" id="lab">
    <hgroup>
      <h3>LAB</h3>
    </hgroup>
    <article class="">
      <p>Let's do this right now:</p>
<div class="build container">
<p>keyword arguments</p>
<ul class="build simple">
<li>Write a function that has four optional parameters (with defaults):<ul>
<li>foreground_color</li>
<li>background_color</li>
<li>link_color</li>
<li>visited_link_color</li>
</ul>
</li>
<li>Have it print the colors (use strings for the colors)</li>
<li>Call it with a couple different parameters set</li>
<li>Have it pull the parameters out with <tt class="docutils literal"><span class="pre">*args,</span> <span class="pre">**kwargs</span></tt></li>
</ul>
</div>




    </article>
  </slide>  <slide class="level-2" id="a-bit-more-on-mutability-and-copies">
    <hgroup>
      <h2>A bit more on mutability (and copies)</h2>
    </hgroup>
    <article class="">
      <p class="left">We've talked about this: mutable objects can have their contents changed in
place.</p>
<div class="left build container">
<p>Immutable objects can not.</p>
<p>This has implications when you have a container with mutable objects in it:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [28]: </span><span class="n">list1</span> <span class="o">=</span> <span class="p">[</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span><span class="s">&#39;b&#39;</span><span class="p">]</span> <span class="p">]</span>
</pre></div>
</div>
<p>one way to make a copy of a list:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [29]: </span><span class="n">list2</span> <span class="o">=</span> <span class="n">list1</span><span class="p">[:]</span>
<span class="gp">In [30]: </span><span class="n">list2</span> <span class="ow">is</span> <span class="n">list1</span>
<span class="gh">Out[30]: </span><span class="go">False</span>
</pre></div>
</div>
<p>they are different lists.</p>
</div>




    </article>
  </slide>  <slide class="level-3" id="mutable-objects">
    <hgroup>
      <h3>mutable objects</h3>
    </hgroup>
    <article class="">
      <p>What if we set an element to a new value?</p>
<div class="build container">
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [31]: </span><span class="n">list1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">]</span>

<span class="gp">In [32]: </span><span class="n">list1</span>
<span class="gh">Out[32]: </span><span class="go">[[5, 6, 7], [&#39;a&#39;, &#39;b&#39;]]</span>

<span class="gp">In [33]: </span><span class="n">list2</span>
<span class="gh">Out[33]: </span><span class="go">[[1, 2, 3], [&#39;a&#39;, &#39;b&#39;]]</span>
</pre></div>
</div>
<p>So they are independent.</p>
</div>




    </article>
  </slide>  <slide class="level-3" id="id20">
    <hgroup>
      <h3>mutable objects</h3>
    </hgroup>
    <article class="">
      <p>But what if we mutate an element?</p>
<div class="build container">
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [34]: </span><span class="n">list1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">)</span>

<span class="gp">In [35]: </span><span class="n">list1</span>
<span class="gh">Out[35]: </span><span class="go">[[5, 6, 7], [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]]</span>

<span class="gp">In [36]: </span><span class="n">list2</span>
<span class="gh">Out[36]: </span><span class="go">[[1, 2, 3], [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]]</span>
</pre></div>
</div>
<p>uh oh! mutating an element in one list mutated the one in the other list.</p>
</div>




    </article>
  </slide>  <slide class="level-3" id="id21">
    <hgroup>
      <h3>mutable objects</h3>
    </hgroup>
    <article class="">
      <p>Why is that?</p>
<div class="build container">
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [38]: </span><span class="n">list1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="ow">is</span> <span class="n">list2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gh">Out[38]: </span><span class="go">True</span>
</pre></div>
</div>
<p>The elements are the same object!</p>
<p>This is known as a &quot;shallow&quot; copy -- Python doesn't want to copy more than
it needs to, so in this case, it makes a new list, but does not make copies
of the contents.</p>
<p>Same for dicts (and any container type)</p>
<p>If the elements are immutable, it doesn't really make a differnce -- but be
very careful with mutable elements.</p>
</div>




    </article>
  </slide>  <slide class="level-3" id="the-copy-module">
    <hgroup>
      <h3>The copy module</h3>
    </hgroup>
    <article class="">
      <p>most objects have a way to make copies (<tt class="docutils literal"><span class="pre">dict.copy()</span></tt> for instance).</p>
<div class="build container">
<p>but if not, you can use the <tt class="docutils literal"><span class="pre">copy</span></tt> module to make a copy:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [39]: </span><span class="kn">import</span> <span class="nn">copy</span>

<span class="gp">In [40]: </span><span class="n">list3</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">list2</span><span class="p">)</span>

<span class="gp">In [41]: </span><span class="n">list3</span>
<span class="gh">Out[41]: </span><span class="go">[[1, 2, 3], [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]]</span>
</pre></div>
</div>
<p>This is <em>also</em> a shallow copy.</p>
</div>




    </article>
  </slide>  <slide class="level-3" id="id22">
    <hgroup>
      <h3>The copy module</h3>
    </hgroup>
    <article class="">
      <p>But there is another option:</p>
<div class="build container">
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [3]: </span><span class="n">list1</span>
<span class="gh">Out[3]: </span><span class="go">[[1, 2, 3], [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]]</span>

<span class="gp">In [4]: </span><span class="n">list2</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">list1</span><span class="p">)</span>

<span class="gp">In [5]: </span><span class="n">list1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>

<span class="gp">In [6]: </span><span class="n">list1</span>
<span class="gh">Out[6]: </span><span class="go">[[1, 2, 3, 4], [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]]</span>

<span class="gp">In [7]: </span><span class="n">list2</span>
<span class="gh">Out[7]: </span><span class="go">[[1, 2, 3], [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]]</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">deepcopy</span></tt> recurses through the object, making copies of everything as it goes.</p>
</div>




    </article>
  </slide>  <slide class="level-3" id="id23">
    <hgroup>
      <h3>The copy module</h3>
    </hgroup>
    <article class="">
      <p>I happened on this thread on stack overflow:</p>
<p><a class="reference external" href="http://stackoverflow.com/questions/3975376/understanding-dict-copy-shallow-or-deep">http://stackoverflow.com/questions/3975376/understanding-dict-copy-shallow-or-deep</a></p>
<div class="build container">
<p>The OP is pretty confused -- can you sort it out?</p>
<p>Make sure you understand the difference between a reference, a shallow
copy, and a deep copy.</p>
</div>




    </article>
  </slide>  <slide class="level-3" id="mutables-as-default-arguments">
    <hgroup>
      <h3>Mutables as default arguments:</h3>
    </hgroup>
    <article class="">
      <p>Another &quot;gotcha&quot; is using mutables as default arguments:</p>
<div class="build container">
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [11]: </span><span class="k">def</span> <span class="nf">fun</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="p">[]):</span>
<span class="gp">   ....: </span>    <span class="n">a</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">   ....: </span>    <span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="gp">   ....:</span>
</pre></div>
</div>
<p>This makes sense: maybe you'd pass in a list, but the default is an empty list.</p>
<div class="container">
<p>But:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [12]: </span><span class="n">fun</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">[3]</span>

<span class="gp">In [13]: </span><span class="n">fun</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">[3, 4]</span>
</pre></div>
</div>
</div>
<p>Huh?!</p>
</div>




    </article>
  </slide>  <slide class="level-3" id="id24">
    <hgroup>
      <h3>Mutables as default arguments:</h3>
    </hgroup>
    <article class="">
      <p>Remember:</p>
<ul class="build simple">
<li>the default argument is defined when the function is created</li>
<li>there will be <em>only one list</em></li>
<li>every time the function is called, the <em>same one list</em> is used.</li>
</ul>
<div class="build container">
<p>The standard practice for such a mutable default argument:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [15]: </span><span class="k">def</span> <span class="nf">fun</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
<span class="gp">   ....: </span>    <span class="k">if</span> <span class="n">a</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
<span class="gp">   ....: </span>        <span class="n">a</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">   ....: </span>    <span class="n">a</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">   ....: </span>    <span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="gp">In [16]: </span><span class="n">fun</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">[3]</span>
<span class="gp">In [17]: </span><span class="n">fun</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">[4]</span>
</pre></div>
</div>
<p>You get a new list every time the function is called</p>
</div>




    </article>
  </slide>  <slide class="level-2" id="list-and-dict-comprehensions">
    <hgroup>
      <h2>List and Dict Comprehensions</h2>
    </hgroup>
    <article class="">
      <div class="left container">
<p>A bit of functional programming</p>
<div class="build container">
<p>consider this common <tt class="docutils literal"><span class="pre">for</span></tt> loop structure:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">new_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">variable</span> <span class="ow">in</span> <span class="n">a_list</span><span class="p">:</span>
    <span class="n">new_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">expression</span><span class="p">)</span>
</pre></div>
</div>
<p>This can be expressed with a single line using a &quot;list comprehension&quot;</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">new_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">expression</span> <span class="k">for</span> <span class="n">variable</span> <span class="ow">in</span> <span class="n">a_list</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>




    </article>
  </slide>  <slide class="level-3" id="list-comprehensions">
    <hgroup>
      <h3>List Comprehensions</h3>
    </hgroup>
    <article class="">
      <p>What about nested for loops?</p>
<div class="build container">
<div class="highlight-python"><div class="highlight"><pre><span class="n">new_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">a_list</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">var2</span> <span class="ow">in</span> <span class="n">a_list2</span><span class="p">:</span>
        <span class="n">new_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">expression</span><span class="p">)</span>
</pre></div>
</div>
<p>Can also be expressed in one line:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">new_list</span> <span class="o">=</span>  <span class="p">[</span><span class="n">exp</span> <span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">a_list</span> <span class="k">for</span> <span class="n">var2</span> <span class="ow">in</span> <span class="n">a_list2</span><span class="p">]</span>
</pre></div>
</div>
<p>You get the &quot;outer product&quot;, i.e. all combinations.</p>
<p>(demo)</p>
</div>




    </article>
  </slide>  <slide class="level-3" id="id25">
    <hgroup>
      <h3>List Comprehensions</h3>
    </hgroup>
    <article class="">
      <p>But usually you at least have a conditional in the loop:</p>
<div class="build container">
<div class="highlight-python"><div class="highlight"><pre><span class="n">new_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">variable</span> <span class="ow">in</span> <span class="n">a_list</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">something_is_true</span><span class="p">:</span>
        <span class="n">new_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">expression</span><span class="p">)</span>
</pre></div>
</div>
<p>You can add a conditional to the comprehension:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">new_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">expr</span> <span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">a_list</span> <span class="k">if</span> <span class="n">something_is_true</span><span class="p">]</span>
</pre></div>
</div>
<p>(demo)</p>
</div>




    </article>
  </slide>  <slide class="level-3" id="id26">
    <hgroup>
      <h3>List Comprehensions</h3>
    </hgroup>
    <article class="">
      <p>Examples:</p>
<div class="build container">
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [341]: </span><span class="p">[</span><span class="n">x</span> <span class="o">**</span> <span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)]</span>
<span class="gh">Out[341]: </span><span class="go">[0, 1, 4]</span>

<span class="gp">In [342]: </span><span class="p">[</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">)]</span>
<span class="gh">Out[342]: </span><span class="go">[5, 6, 6, 7, 7, 8]</span>

<span class="gp">In [343]: </span><span class="p">[</span><span class="n">x</span> <span class="o">*</span> <span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span><span class="p">]</span>
<span class="gh">Out[343]: </span><span class="go">[0, 4, 8]</span>
</pre></div>
</div>
<p>Remember this from last week?</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="n">name</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="n">__builtin__</span><span class="p">)</span> <span class="k">if</span> <span class="s">&quot;Error&quot;</span> <span class="ow">in</span> <span class="n">name</span><span class="p">]</span>
<span class="p">[</span><span class="s">&#39;ArithmeticError&#39;</span><span class="p">,</span>
 <span class="s">&#39;AssertionError&#39;</span><span class="p">,</span>
 <span class="s">&#39;AttributeError&#39;</span><span class="p">,</span>
 <span class="o">....</span>
</pre></div>
</div>
</div>




    </article>
  </slide>  <slide class="level-3" id="set-comprehensions">
    <hgroup>
      <h3>Set Comprehensions</h3>
    </hgroup>
    <article class="">
      <p>You can do it with sets, too:</p>
<div class="build container">
<div class="highlight-python"><div class="highlight"><pre><span class="n">new_set</span> <span class="o">=</span> <span class="p">{</span><span class="n">value</span> <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">a_sequence</span><span class="p">}</span>
</pre></div>
</div>
<p>the same as this <tt class="docutils literal"><span class="pre">for</span></tt> loop:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">new_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
<span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">a_sequence</span><span class="p">:</span>
    <span class="n">new_set</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
</div>




    </article>
  </slide>  <slide class="level-3" id="id27">
    <hgroup>
      <h3>Set Comprehensions</h3>
    </hgroup>
    <article class="">
      <p>Example: finding all the vowels in a string...</p>
<div class="build container">
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [19]: </span><span class="n">s</span> <span class="o">=</span> <span class="s">&quot;a not very long string&quot;</span>

<span class="gp">In [20]: </span><span class="n">vowels</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="s">&#39;aeiou&#39;</span><span class="p">)</span>

<span class="gp">In [21]: </span><span class="p">{</span> <span class="n">let</span> <span class="k">for</span> <span class="n">let</span> <span class="ow">in</span> <span class="n">s</span> <span class="k">if</span> <span class="n">let</span> <span class="ow">in</span> <span class="n">vowels</span> <span class="p">}</span>
<span class="gh">Out[21]: </span><span class="go">{&#39;a&#39;, &#39;e&#39;, &#39;i&#39;, &#39;o&#39;}</span>
</pre></div>
</div>
<p>Side note: why did I do <tt class="docutils literal"><span class="pre">set('aeiou')</span></tt> rather than just <cite>aeiou</cite>?</p>
</div>




    </article>
  </slide>  <slide class="level-3" id="dict-comprehensions">
    <hgroup>
      <h3>Dict Comprehensions</h3>
    </hgroup>
    <article class="">
      <p>Also with dictionaries</p>
<div class="build container">
<div class="highlight-python"><div class="highlight"><pre><span class="n">new_dict</span> <span class="o">=</span> <span class="p">{</span> <span class="n">key</span><span class="p">:</span><span class="n">value</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">a_sequence</span><span class="p">}</span>
</pre></div>
</div>
<p>the same as this <tt class="docutils literal"><span class="pre">for</span></tt> loop:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">new_dict</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">a_sequence</span><span class="p">:</span>
    <span class="n">new_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
</pre></div>
</div>
</div>




    </article>
  </slide>  <slide class="level-3" id="id28">
    <hgroup>
      <h3>Dict Comprehensions</h3>
    </hgroup>
    <article class="">
      <p>Example</p>
<div class="build container">
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [22]: </span><span class="p">{</span><span class="n">i</span><span class="p">:</span> <span class="s">&quot;this_</span><span class="si">%i</span><span class="s">&quot;</span> <span class="o">%</span> <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)}</span>
<span class="gh">Out[22]: </span><span class="go">{0: &#39;this_0&#39;, 1: &#39;this_1&#39;, 2: &#39;this_2&#39;,</span>
<span class="go">          3: &#39;this_3&#39;, 4: &#39;this_4&#39;}</span>
</pre></div>
</div>
<p>Can you do the same thing with the <tt class="docutils literal"><span class="pre">dict()</span></tt> constructor?</p>
</div>




    </article>
  </slide>  <slide class="level-2" id="anonymous-functions">
    <hgroup>
      <h2>Anonymous functions</h2>
    </hgroup>
    <article class="">
      <p class="center large">λ</p>




    </article>
  </slide>  <slide class="level-3" id="lambda">
    <hgroup>
      <h3>lambda</h3>
    </hgroup>
    <article class="">
      <div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [171]: </span><span class="n">f</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span>
<span class="gp">In [172]: </span><span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gh">Out[172]: </span><span class="go">5</span>
</pre></div>
</div>
<div class="build container">
<p>Content can only be an expression -- not a statement</p>
<p>Anyone remember what the difference is?</p>
<p>Called &quot;Anonymous&quot;: it doesn't need a name.</p>
</div>




    </article>
  </slide>  <slide class="level-3" id="id29">
    <hgroup>
      <h3>lambda</h3>
    </hgroup>
    <article class="">
      <p>It's a python object, it can be stored in a list or other container</p>
<div class="build container">
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [6]: </span><span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">]</span>

<span class="gp">In [7]: </span><span class="n">l</span>
<span class="gh">Out[7]: </span><span class="go">[&lt;function __main__.&lt;lambda&gt;&gt;]</span>

<span class="gp">In [8]: </span><span class="nb">type</span><span class="p">(</span><span class="n">l</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gh">Out[8]: </span><span class="go">function</span>
</pre></div>
</div>
<p>And you can call it:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [9]: </span><span class="n">l</span><span class="p">[</span><span class="mi">0</span><span class="p">](</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="gh">Out[9]: </span><span class="go">7</span>
</pre></div>
</div>
</div>




    </article>
  </slide>  <slide class="level-3" id="functions-as-first-class-objects">
    <hgroup>
      <h3>Functions as first class objects</h3>
    </hgroup>
    <article class="">
      <p>You can do that with &quot;regular&quot; functions too:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [12]: </span><span class="k">def</span> <span class="nf">fun</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>
<span class="gp">   ....: </span>    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
<span class="gp">   ....:</span>
<span class="gp">In [13]: </span><span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="n">fun</span><span class="p">]</span>
<span class="gp">In [14]: </span><span class="nb">type</span><span class="p">(</span><span class="n">l</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gh">Out[14]: </span><span class="go">function</span>
<span class="gp">In [15]: </span><span class="n">l</span><span class="p">[</span><span class="mi">0</span><span class="p">](</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="gh">Out[15]: </span><span class="go">7</span>
</pre></div>
</div>




    </article>
  </slide>  <slide class="level-2" id="functional-programming">
    <hgroup>
      <h2>Functional Programming</h2>
    </hgroup>
    <article class="">
      



    </article>
  </slide>  <slide class="level-3" id="map">
    <hgroup>
      <h3>map</h3>
    </hgroup>
    <article class="">
      <p><tt class="docutils literal"><span class="pre">map</span></tt>: &quot;maps&quot; a function onto a sequence of objects -- It applies the
function to each item in the list, returning another list</p>
<div class="build container">
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [23]: </span><span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">In [24]: </span><span class="k">def</span> <span class="nf">fun</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="go">             return x * 2 + 10</span>
<span class="gp">In [25]: </span><span class="nb">map</span><span class="p">(</span><span class="n">fun</span><span class="p">,</span> <span class="n">l</span><span class="p">)</span>
<span class="gh">Out[25]: </span><span class="go">[14, 20, 24, 34, 22, 18]</span>
</pre></div>
</div>
<p>But if it's a small function, and you only need it once:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [26]: </span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">10</span><span class="p">,</span> <span class="n">l</span><span class="p">)</span>
<span class="gh">Out[26]: </span><span class="go">[14, 20, 24, 34, 22, 18]</span>
</pre></div>
</div>
</div>




    </article>
  </slide>  <slide class="level-3" id="filter">
    <hgroup>
      <h3>filter</h3>
    </hgroup>
    <article class="">
      <p><tt class="docutils literal"><span class="pre">filter</span></tt>: &quot;filters&quot; a sequence of objects with a boolean function -- It keeps
only those for which the function is True</p>
<div class="build container">
<p>To get only the even numbers:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [27]: </span><span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">In [28]: </span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="ow">not</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span><span class="p">,</span> <span class="n">l</span><span class="p">)</span>
<span class="gh">Out[28]: </span><span class="go">[2, 12, 6, 4]</span>
</pre></div>
</div>
</div>




    </article>
  </slide>  <slide class="level-3" id="reduce">
    <hgroup>
      <h3>reduce</h3>
    </hgroup>
    <article class="">
      <p><tt class="docutils literal"><span class="pre">reduce</span></tt>: &quot;reduces&quot; a sequence of objects to a single object with a function
that combines two arguments</p>
<div class="build container">
<p>To get the sum:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [30]: </span><span class="n">l</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<span class="gp">In [31]: </span><span class="nb">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">,</span> <span class="n">l</span><span class="p">)</span>
<span class="gh">Out[31]: </span><span class="go">36</span>
</pre></div>
</div>
<p>To get the product:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [32]: </span><span class="nb">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">:</span> <span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="n">l</span><span class="p">)</span>
<span class="gh">Out[32]: </span><span class="go">20160</span>
</pre></div>
</div>
</div>




    </article>
  </slide>  <slide class="level-3" id="comprehensions">
    <hgroup>
      <h3>Comprehensions</h3>
    </hgroup>
    <article class="">
      <p>Couldn't you do all this with comprehensions?</p>
<div class="build container">
<p>Yes:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [33]: </span><span class="p">[</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">10</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">l</span><span class="p">]</span>
<span class="gh">Out[33]: </span><span class="go">[14, 17, 19, 24, 18, 16]</span>
<span class="gp">In [34]: </span><span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">l</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span><span class="p">]</span>
<span class="gh">Out[34]: </span><span class="go">[2, 12, 6, 4]</span>
</pre></div>
</div>
<p>(Except Reduce)</p>
<p>But Guido thinks almost all uses of reduce are really <tt class="docutils literal"><span class="pre">sum()</span></tt></p>
</div>




    </article>
  </slide>  <slide class="level-3" id="id3">
    <hgroup>
      <h3>Functional Programming</h3>
    </hgroup>
    <article class="">
      <p>Comprehensions and map, filter, reduce are all &quot;functional programming&quot;
approaches}</p>
<div class="build container">
<p><tt class="docutils literal"><span class="pre">map,</span> <span class="pre">filter</span></tt>  and <tt class="docutils literal"><span class="pre">reduce</span></tt>  pre-date comprehensions in Python's history</p>
<p>Some people like that syntax better</p>
<p>And &quot;map-reduce&quot; is a big concept these days for parallel processing of &quot;Big
Data&quot; in NoSQL databases.</p>
<p>(Hadoop, EMR, MongoDB, etc.)</p>
</div>




    </article>
  </slide>  <slide class="level-3" id="more-about-lambda">
    <hgroup>
      <h3>More About Lambda</h3>
    </hgroup>
    <article class="">
      <p>Can also use keyword arguments</p>
<div class="build container">
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [186]: </span><span class="n">l</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">In [187]: </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
<span class="gp">   .....: </span>    <span class="n">l</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">e</span><span class="o">=</span><span class="n">i</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="n">e</span><span class="p">)</span>
<span class="gp">   .....:</span>
<span class="gp">In [189]: </span><span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">l</span><span class="p">:</span>
<span class="gp">   .....: </span>    <span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="go">1</span>
<span class="go">3</span>
<span class="go">9</span>
</pre></div>
</div>
<p>Note when the keyword argument is evaluated</p>
<p>This turns out to be very handy!</p>
</div>




    </article>
  </slide>  <slide class="level-2" id="homework">
    <hgroup>
      <h2>Homework</h2>
    </hgroup>
    <article class="">
      <div class="build container">
Of course there's homework</div>




    </article>
  </slide>  <slide class="level-3" id="task-13-list-comprehensions">
    <hgroup>
      <h3>Task 13: List Comprehensions</h3>
    </hgroup>
    <article class="">
      <p>In your student folder, create a subdirectory called <tt class="docutils literal"><span class="pre">session05</span></tt>.
Create a new branch called <tt class="docutils literal"><span class="pre">task13</span></tt> and switch to it (<tt class="docutils literal"><span class="pre">git</span> <span class="pre">checkout</span> <span class="pre">-b</span> <span class="pre">task13</span></tt>).</p>
<p>Within the <tt class="docutils literal"><span class="pre">session05</span></tt> subdirectory, create a new file called <tt class="docutils literal"><span class="pre">list_comp.py</span></tt>.</p>
<p>Add the file to your clone of the repository and commit changes frequently
while working on the following tasks. When you are done, push your changes to
GitHub and create a pull request titled <tt class="docutils literal"><span class="pre">Task</span> <span class="pre">13</span> <span class="pre">pull</span> <span class="pre">request</span> <span class="pre">from</span> <span class="pre">Your</span> <span class="pre">Name</span></tt> where you should substitute your name for <tt class="docutils literal"><span class="pre">Your</span> <span class="pre">Name</span></tt>.</p>
<p>Note: this is a bit of a &quot;backwards&quot; exercise -- given some code, you figure
out what it does.</p>
<div class="build container">
<p>In canvas, you'll take a quiz where each of these questions is worth 1
point.</p>
<p>You can take the quiz repeatedly if you have trouble.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">feast</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;lambs&#39;</span><span class="p">,</span> <span class="s">&#39;sloths&#39;</span><span class="p">,</span> <span class="s">&#39;orangutans&#39;</span><span class="p">,</span> <span class="s">&#39;breakfast cereals&#39;</span><span class="p">,</span> <span class="s">&#39;fruit bats&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">comprehension</span> <span class="o">=</span> <span class="p">[</span><span class="n">delicacy</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span> <span class="k">for</span> <span class="n">delicacy</span> <span class="ow">in</span> <span class="n">feast</span><span class="p">]</span>
</pre></div>
</div>
<div class="container">
<p>What is the output of:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">comprehension</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">???</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">comprehension</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="go">???</span>
</pre></div>
</div>
</div>
<p>(figure it out before you try it)</p>
</div>




    </article>
  </slide>  <slide class="level-3" id="id30">
    <hgroup>
      <h3>2. Filtering lists with list comprehensions</h3>
    </hgroup>
    <article class="">
      <div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">feast</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;spam&#39;</span><span class="p">,</span> <span class="s">&#39;sloths&#39;</span><span class="p">,</span> <span class="s">&#39;orangutans&#39;</span><span class="p">,</span> <span class="s">&#39;breakfast cereals&#39;</span><span class="p">,</span> <span class="s">&#39;fruit bats&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">comprehension</span> <span class="o">=</span> <span class="p">[</span><span class="n">delicacy</span> <span class="k">for</span> <span class="n">delicacy</span> <span class="ow">in</span> <span class="n">feast</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">delicacy</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">6</span><span class="p">]</span>
</pre></div>
</div>
<div class="build container">
<div class="container">
<p>What is the output of:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">feast</span><span class="p">)</span>
<span class="go">???</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">comprehension</span><span class="p">)</span>
<span class="go">???</span>
</pre></div>
</div>
</div>
<p>(figure it out first!)</p>
</div>




    </article>
  </slide>  <slide class="level-3" id="id31">
    <hgroup>
      <h3>3. Unpacking tuples in list comprehensions</h3>
    </hgroup>
    <article class="">
      <div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">list_of_tuples</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;lumberjack&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s">&#39;inquisition&#39;</span><span class="p">),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="s">&#39;spam&#39;</span><span class="p">)]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">comprehension</span> <span class="o">=</span> <span class="p">[</span> <span class="n">skit</span> <span class="o">*</span> <span class="n">number</span> <span class="k">for</span> <span class="n">number</span><span class="p">,</span> <span class="n">skit</span> <span class="ow">in</span> <span class="n">list_of_tuples</span> <span class="p">]</span>
</pre></div>
</div>
<div class="build container">
<div class="container">
<p>What is the output of:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">comprehension</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">???</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">comprehension</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="go">???</span>
</pre></div>
</div>
</div>
<p>(figure it out first!)</p>
</div>




    </article>
  </slide>  <slide class="level-3" id="id32">
    <hgroup>
      <h3>4. Double list comprehensions</h3>
    </hgroup>
    <article class="">
      <div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">list_of_eggs</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;poached egg&#39;</span><span class="p">,</span> <span class="s">&#39;fried egg&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">list_of_meats</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;lite spam&#39;</span><span class="p">,</span> <span class="s">&#39;ham spam&#39;</span><span class="p">,</span> <span class="s">&#39;fried spam&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">comprehension</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;{0} and {1}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">egg</span><span class="p">,</span> <span class="n">meat</span><span class="p">)</span>
<span class="go">                     for egg in list_of_eggs</span>
<span class="go">                     for meat in list_of_meats]</span>
</pre></div>
</div>
<div class="build container">
<p>What is the output of:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">comprehension</span><span class="p">)</span>
<span class="go">???</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">comprehension</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">???</span>
</pre></div>
</div>
</div>




    </article>
  </slide>  <slide class="level-3" id="id33">
    <hgroup>
      <h3>5. Set comprehensions</h3>
    </hgroup>
    <article class="">
      <div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">comprehension</span> <span class="o">=</span> <span class="p">{</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="s">&#39;aabbbcccc&#39;</span><span class="p">}</span>
</pre></div>
</div>
<div class="build container">
<p>What is the output of:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">comprehension</span>
<span class="go">???</span>
</pre></div>
</div>
</div>




    </article>
  </slide>  <slide class="level-3" id="id34">
    <hgroup>
      <h3>6. Dictionary comprehensions</h3>
    </hgroup>
    <article class="">
      <div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">dict_of_weapons</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;first&#39;</span><span class="p">:</span> <span class="s">&#39;fear&#39;</span><span class="p">,</span>
<span class="go">                       &#39;second&#39;: &#39;surprise&#39;,</span>
<span class="go">                       &#39;third&#39;:&#39;ruthless efficiency&#39;,</span>
<span class="go">                       &#39;forth&#39;:&#39;fanatical devotion&#39;,</span>
<span class="go">                       &#39;fifth&#39;: None}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dict_comprehension</span> <span class="o">=</span> \
<span class="go">{k.upper(): weapon for k, weapon in dict_of_weapons.iteritems() if weapon}</span>
</pre></div>
</div>
<div class="build container">
<p>What is the output of:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="s">&#39;first&#39;</span> <span class="ow">in</span> <span class="n">dict_comprehension</span>
<span class="go">???</span>
<span class="gp">&gt;&gt;&gt; </span><span class="s">&#39;FIRST&#39;</span> <span class="ow">in</span> <span class="n">dict_comprehension</span>
<span class="go">???</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">dict_of_weapons</span><span class="p">)</span>
<span class="go">???</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">dict_comprehension</span><span class="p">)</span>
<span class="go">???</span>
</pre></div>
</div>
</div>




    </article>
  </slide>  <slide class="level-3" id="id35">
    <hgroup>
      <h3>Other resources</h3>
    </hgroup>
    <article class="">
      <p>See also:</p>
<p><a class="reference external" href="https://github.com/gregmalcolm/python_koans">https://github.com/gregmalcolm/python_koans</a></p>
<p><a class="reference external" href="https://github.com/gregmalcolm/python_koans/blob/master/python2/koans/about_comprehension.py">https://github.com/gregmalcolm/python_koans/blob/master/python2/koans/about_comprehension.py</a></p>




    </article>
  </slide>  <slide class="level-3" id="id36">
    <hgroup>
      <h3>7. Count even numbers</h3>
    </hgroup>
    <article class="">
      <p>(submit this one to gitHub for credit on this assignment)</p>
<div class="build container">
<p>This is from CodingBat &quot;count_evens&quot; (<a class="reference external" href="http://codingbat.com/prob/p189616">http://codingbat.com/prob/p189616</a>)</p>
<p><em>Using a list comprehension</em>, return the number of even ints in the given
array.</p>
<p>Note: the <tt class="docutils literal"><span class="pre">%</span></tt> &quot;mod&quot; operator computes the remainder, e.g. <tt class="docutils literal"><span class="pre">5</span> <span class="pre">%</span> <span class="pre">2</span></tt> is 1.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">count_evens</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span> <span class="o">==</span> <span class="mi">3</span>
<span class="n">count_evens</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span> <span class="o">==</span> <span class="mi">3</span>
<span class="n">count_evens</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span> <span class="o">==</span> <span class="mi">0</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">count_evens</span><span class="p">(</span><span class="n">nums</span><span class="p">):</span>
   <span class="n">one_line_comprehension_here</span>
</pre></div>
</div>
</div>




    </article>
  </slide>  <slide class="level-3" id="task-14-dictionary-and-set-comprehensions">
    <hgroup>
      <h3>Task 14: Dictionary and Set Comprehensions</h3>
    </hgroup>
    <article class="">
      <p>In your <tt class="docutils literal"><span class="pre">session05</span></tt> directory, write the following code
into a new file called <tt class="docutils literal"><span class="pre">dict_comp.py</span></tt>.</p>
<p>Add the file to your local working repository
and commit changes frequently
while working on the following tasks. When you are done, push your changes to
GitHub and create a pull request
titled <tt class="docutils literal"><span class="pre">Task</span> <span class="pre">14</span> <span class="pre">pull</span> <span class="pre">request</span> <span class="pre">from</span> <span class="pre">Your</span> <span class="pre">Name</span></tt> where you should substitute your name for <tt class="docutils literal"><span class="pre">Your</span> <span class="pre">Name</span></tt>.</p>
<p>Let's revisiting the dict/set lab -- see how much you can do with
comprehensions instead.</p>
<div class="build container">
<p>Specifically,  look at these:</p>
<p>First a slightly bigger, more interesting (or at least bigger..) dict:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">food_prefs</span> <span class="o">=</span> <span class="p">{</span><span class="s">&quot;name&quot;</span><span class="p">:</span> <span class="s">u&quot;Cris&quot;</span><span class="p">,</span>
              <span class="s">u&quot;city&quot;</span><span class="p">:</span> <span class="s">u&quot;Seattle&quot;</span><span class="p">,</span>
              <span class="s">u&quot;cake&quot;</span><span class="p">:</span> <span class="s">u&quot;lemon&quot;</span><span class="p">,</span>
              <span class="s">u&quot;fruit&quot;</span><span class="p">:</span> <span class="s">u&quot;pomegranate&quot;</span><span class="p">,</span>
              <span class="s">u&quot;salad&quot;</span><span class="p">:</span> <span class="s">u&quot;chop&quot;</span><span class="p">,</span>
              <span class="s">u&quot;pasta&quot;</span><span class="p">:</span> <span class="s">u&quot;lasagna&quot;</span><span class="p">}</span>
</pre></div>
</div>
<p>(make a dictionary that includes your answers, not mine)</p>
</div>




    </article>
  </slide>  <slide class="level-3" id="id37">
    <hgroup>
      <h3>Working with this dict:</h3>
    </hgroup>
    <article class="">
      <ol class="arabic">
<li><p class="first">Print the dict by passing it to a string format method, so that you
get something like:</p>
<div class="highlight-python"><div class="highlight"><pre>&quot;Cris is from Seattle, and he likes lemon cake, pomegranate fruit,
 chop salad, and lasagna pasta&quot;
</pre></div>
</div>
</li>
<li><p class="first">Using a list comprehension, build a dictionary of numbers from zero
to fifteen and the hexadecimal equivalent (string is fine).</p>
</li>
<li><p class="first">Do the previous entirely with a dict comprehension -- should be a one-liner</p>
</li>
<li><p class="first">Using the dictionary from item 1: Make a dictionary using the same keys but
with the number of 'a's in each value. You can do this either by editing the
dict in place, or making a new one. If you edit in place, make a copy first!</p>
</li>
</ol>




    </article>
  </slide>  <slide class="level-3" id="id38">
    <hgroup>
      <h3>Task 14: Dictionary and Set Comprehensions</h3>
    </hgroup>
    <article class="">
      <ol class="arabic simple" start="5">
<li>Create sets s2, s3 and s4 that contain the numbers from zero through twenty
that are divisible 2, 3 and 4.<ol class="loweralpha">
<li>Do this with one set comprehension for each set.</li>
<li>What if you had a lot more than 3? -- Don't Repeat Yourself (DRY)<ul>
<li>create a sequence that holds all three sets</li>
<li>loop through that sequence to build the sets up -- so no repeated code.</li>
</ul>
</li>
<li>Extra credit:  do it all as a one-liner by nesting a set comprehension
inside a list comprehension. (OK, that may be getting carried away!)</li>
</ol>
</li>
</ol>




    </article>
  </slide>  <slide class="level-3" id="task-15-lambda-and-keyword-argument-magic">
    <hgroup>
      <h3>Task 15: Lambda and Keyword Argument Magic</h3>
    </hgroup>
    <article class="">
      <p>In your <tt class="docutils literal"><span class="pre">session05</span></tt> directory, write the following code
into a new file called <tt class="docutils literal"><span class="pre">lambda.py</span></tt>.</p>
<p>Add the file to your local working repository
and commit changes frequently
while working on the following tasks. When you are done, push your changes to
GitHub and create a pull request
titled <tt class="docutils literal"><span class="pre">Task</span> <span class="pre">15</span> <span class="pre">pull</span> <span class="pre">request</span> <span class="pre">from</span> <span class="pre">Your</span> <span class="pre">Name</span></tt> where you should substitute your name for <tt class="docutils literal"><span class="pre">Your</span> <span class="pre">Name</span></tt>.</p>
<p>Write a function that returns a list of n functions, such that each one, when
called, will return the input value, incremented by an increasing number.</p>
<p>Use a <tt class="docutils literal"><span class="pre">for</span></tt> loop, a <tt class="docutils literal"><span class="pre">lambda</span></tt>, and a keyword argument</p>
<p>( Extra credit ):</p>
<p>Do it with a list comprehension, instead of a <tt class="docutils literal"><span class="pre">for</span></tt> loop</p>




    </article>
  </slide>  <slide class="level-3" id="id39">
    <hgroup>
      <h3>Example calling code</h3>
    </hgroup>
    <article class="">
      <p>Not clear? here's what you should get:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [96]: </span><span class="n">the_list</span> <span class="o">=</span> <span class="n">function_builder</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">### so the_list should contain n functions (callables)</span>
<span class="gp">In [97]: </span><span class="n">the_list</span><span class="p">[</span><span class="mi">0</span><span class="p">](</span><span class="mi">2</span><span class="p">)</span>
<span class="gh">Out[97]: </span><span class="go">2</span>
<span class="go">## the zeroth element of the list: a function that adds 0 to the input</span>
<span class="gp">In [98]: </span><span class="n">the_list</span><span class="p">[</span><span class="mi">1</span><span class="p">](</span><span class="mi">2</span><span class="p">)</span>
<span class="gh">Out[98]: </span><span class="go">3</span>
<span class="go">## the 1st element of the list: a function that adds 1 to the input</span>
<span class="gp">In [100]: </span><span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">the_list</span><span class="p">:</span>
<span class="gp">   .....: </span>    <span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="n">end</span><span class="o">=</span><span class="s">&quot; &quot;</span><span class="p">)</span>
<span class="gp">   .....:</span>
<span class="go">5</span>
<span class="go">6</span>
<span class="go">7</span>
<span class="go">8</span>
</pre></div>
</div>




    </article>
  </slide>  <slide class="level-3" id="task-16-investigate-session-6">
    <hgroup>
      <h3>Task 16: Investigate Session 6</h3>
    </hgroup>
    <article class="">
      <p>Read through the Session 6 slides.</p>
<p><a class="reference external" href="http://codefellows.github.io/sea-c34-python/session06.html">http://codefellows.github.io/sea-c34-python/session06.html</a></p>
<p>There are four sections. For each one, come up with the following
numbers of questions.</p>
<ul class="simple">
<li>Object-Oriented Programming (2 questions)</li>
<li>Python Classes (1 question)</li>
<li>Subclassing and More Subclassing (4 questions)</li>
</ul>
<p>Write some
Python code to answer these questions, one function per question.</p>
<p>For each function, write a good <tt class="docutils literal"><span class="pre">docstring</span></tt> describing what
question you are trying to answer.</p>
<p>Put the functions in four separate modules (files) called
<cite>oop.py</cite>, <cite>classes.py</cite>, and <cite>subclasses.py</cite> in the
<tt class="docutils literal"><span class="pre">session05</span></tt> subdirectory of your student directory.</p>




    </article>
  </slide>  <slide class="level-3" id="id40">
    <hgroup>
      <h3>Task 16: Investigate Session 6</h3>
    </hgroup>
    <article class="">
      <p>That is, you should have seven questions, and seven functions, total,
spread out across three files.</p>
<p>Use everything you've learned
so far as needed (including lists, tuples, slicing, iteration, functions, booleans, printing, modules, assertions, dictionaries,
sets, exceptions, file reading/writing, and paths).</p>
<p>Create a branch in your local repo called <cite>task16</cite> and switch to it (<cite>git checkout task16</cite>).</p>
<p>Add your files
to that branch, commit and push, then create a pull request to
the main class repo,
titled <tt class="docutils literal"><span class="pre">Task</span> <span class="pre">16</span> <span class="pre">pull</span> <span class="pre">request</span> <span class="pre">from</span> <span class="pre">Your</span> <span class="pre">Name</span></tt> where you should substitute your name for <tt class="docutils literal"><span class="pre">Your</span> <span class="pre">Name</span></tt>.</p>
<p>Finally, submit your assignment in Canvas by giving the URL of the pull request.</p>




    </article>
  </slide>  <slide class="level-3" id="recommended-reading">
    <hgroup>
      <h3>Recommended Reading</h3>
    </hgroup>
    <article class="">
      <ul class="simple">
<li>LPTHW: Ex 40 - 45</li>
</ul>
<p><a class="reference external" href="http://learnpythonthehardway.org/book/">http://learnpythonthehardway.org/book/</a></p>
<ul class="simple">
<li>Dive Into Python: chapter 4, 5</li>
</ul>
<p><a class="reference external" href="http://www.diveintopython.net/toc/index.html">http://www.diveintopython.net/toc/index.html</a></p>




    </article>
  </slide>


    <slide class="thank-you-slide segue nobackground">
    <aside class="gdbar right"><img src="https://dgosxlrnzhofi.cloudfront.net/assets/logo-3fc81b216ed94ef783583de4160a97ef.svg"></aside>
    <article class="flexbox vleft auto-fadein">
      <h2>&lt;Thank You!&gt;</h2>
      <p>&nbsp;</p>
    </article>
    <p class="auto-fadein" data-config-contact>
      <!-- populated from slide_config.json -->
    </p>
  </slide>

  <slide class="backdrop"></slide>

</slides>

<!--[if IE]>
  <script src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js"></script>
  <script>CFInstall.check({mode: 'overlay'});</script>
<![endif]-->
</body>
</html>